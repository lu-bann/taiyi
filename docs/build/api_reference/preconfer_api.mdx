---
title: 'Preconfirmer API'
description: 'This namespace defines endpoints that should be called by users or applications to interact with the Taiyi preconfirmer'
---
## Index

1. [Submit Preconf Request](#submit-preconf-request---commitmentsv1preconf_request)
2. [Cancel Preconf Request](#cancel-preconf-request---commitmentsv1preconf_request)
3. [Submit Preconf Transaction](#submit-preconf-transaction---commitmentsv1preconf_requesttx)
4. [Get Preconf Request](#get-preconf-request---commitmentsv1preconf_requestpreconf_hash)
5. [Get Available Slots](#get-available-slots---commitmentsv1slots)



### Submit Preconf Request - `/commitments/v1/preconf_request`

Endpoint for submitting a preconfirmation request.

| Property | Value | Description |
|----------|-------|-------------|
| Method | POST | The HTTP method used for this endpoint |
| Response | `PreconfResponse` | The type of response returned by the endpoint |
| Headers | `Content-Type: application/json` | The required headers for the request |
| Body | `PreconfRequest` | The type of data expected in the request body |

<Accordion title="Schema">
`PreconfRequest`
```rust
struct PreconfRequest {
    tip_tx: TipTransaction,
    preconf_tx: PreconfTx,
    tip_tx_signature: Bytes,
    preconfer_signature: Bytes,
    preconf_req_signature: Bytes,
}
```

`PreconfResponse`
```rust
struct PreconfResponse {
    preconf_hash: PreconfHash,
    status: PreconfStatus,
}
```
</Accordion>

<Accordion title="Example Request Body">

```json
{
    "tip_tx": "0x123456789abcdef123456789abcdef123456789abcdef123456789abcdef123456789abcdef",
    "preconf_tx": "0x123456789abcdef123456789abcdef123456789abcdef123456789abcdef123456789abcdef",
    "tip_tx_signature": "0x123456789abcdef123456789abcdef123456789abcdef123456789abcdef123456789abcdef",
    "preconfer_signature": "0x123456789abcdef123456789abcdef123456789abcdef123456789abcdef123456789abcdef",
    "preconf_req_signature": "0x123456789abcdef123456789abcdef123456789abcdef123456789abcdef123456789abcdef"
}
```
</Accordion>

<Accordion title="Example Response">
```json
{
    "preconf_hash": "0x123456789abcdef123456789abcdef123456789abcdef123456789abcdef123456789abcdef",
    "status": "success"
}
```
</Accordion>


### Cancel Preconf Request - `/commitments/v1/preconf_request`

Endpoint for cancelling a preconfirmation request.

| Property | Value | Description |
|----------|-------|-------------|
| Method | DELETE | The HTTP method used for this endpoint |
| Response | `CancelPreconfResponse` | The type of response returned by the endpoint |
| Headers | `Content-Type: application/json` | The required headers for the request |
| Body | `CancelPreconfRequest` | The type of data expected in the request body |

<Accordion title="Schema">
`CancelPreconfRequest`
```rust 
struct CancelPreconfRequest {
preconf_hash: PreconfHash,
}
```

`CancelPreconfResponse`
```rust
struct CancelPreconfResponse {
    status: PreconfStatus,
}
```
</Accordion>
<Accordion title="Example Request Body">

```json
{
    "preconf_hash": "0x123456789abcdef123456789abcdef123456789abcdef123456789abcdef"
}
```
</Accordion>

<Accordion title="Example Response" >
```json
{
    "status": "success"
}
```
</Accordion>

### Submit Preconf Transaction - `/commitments/v1/preconf_request/tx`

Endpoint for submitting a preconfirmation transaction.

| Property | Value | Description |
|----------|-------|-------------|
| Method | POST | The HTTP method used for this endpoint |
| Response | JSON | The response type is not specified in the provided code |
| Headers | `Content-Type: application/json` | The required headers for the request |
| Body | `PreconfTxRequest` | The type of data expected in the request body |

<Accordion title="Schema">
`CancelPreconfResponse`
```rust
struct CancelPreconfResponse {
    status: PreconfStatus,
}
```
`PreconfTxRequest`
```rust
struct PreconfTxRequest {
preconf_hash: PreconfHash,
tx: Transaction,
}
```
</Accordion>
<Accordion title="Example Request Body">

```json
{
    "preconf_hash": "0x123456789abcdef123456789abcdef123456789abcdef123456789abcdef",
    "tx": "0x123456789abcdef123456789abcdef123456789abcdef123456789abcdef123456789abcdef"
}
```
</Accordion>
<Accordion title="Example Response">
```json
{
    "status": "success"
}
```
</Accordion>

### Get Preconf Request Status - `/commitments/v1/preconf_request/:preconf_hash`

Endpoint for checking the status of a preconfirmation request.

| Property | Value | Description |
|----------|-------|-------------|
| Method | GET | The HTTP method used for this endpoint |
| Response | `PreconfStatusResponse` | The type of response returned by the endpoint |
| Headers | `Content-Type: application/json` | The required headers for the request |
| Path Parameters | `preconf_hash: PreconfHash` | The hash of the preconfirmation request |

<Accordion title="Schema">
`PreconfStatusResponse`
```rust
struct PreconfStatusResponse {
    status: PreconfStatus,
}
```
</Accordion>
<Accordion title="Example Response">
```json
{
    "status": "success"
}
```
</Accordion>
<Accordion title="Example Request Body">

```json
{
    "preconf_hash": "0x123456789abcdef123456789abcdef123456789abcdef123456789abcdef"
}
```
</Accordion>

### Get Available Slots - `/commitments/v1/slots`

Endpoint for retrieving available slots for preconfirmation.

| Property | Value | Description |
|----------|-------|-------------|
| Method | GET | The HTTP method used for this endpoint |
| Response | `AvailableSlotResponse` | The type of response returned by the endpoint |
| Headers | `Content-Type: application/json` | The required headers for the request |

<Accordion title="Schema">
`AvailableSlotResponse`
```rust
struct AvailableSlotResponse {
    available_slots: Vec<Slot>,
}
```
</Accordion>
<Accordion title="Example Response">
```json
{
    "available_slots": [
        "0x123456789abcdef123456789abcdef123456789abcdef123456789abcdef",
        "0x123456789abcdef123456789abcdef123456789abcdef123456789abcdef"
    ]
}
```
</Accordion>
<Accordion title="Example Request Body">

```json
{
    "preconf_hash": "0x123456789abcdef123456789abcdef123456789abcdef123456789abcdef"
}
```
</Accordion>